{% extends "template.html" %}

{% block title %}What's The Move - Harvard{% endblock %}

{% block content %}
<section class="hero">
    <div class="hero-content">
        <p class="eyebrow">What's The Move Harvard</p>
        <h1>Find the best parties and events happening around campus.</h1>
        <p class="lead">WTM Harvard is your ultimate party aggregator for Harvard University. We surface the can’t-miss parties, events, and social gatherings happening on campus and around the Square.</p>
        <div class="cta-group">
            <a class="btn primary" href="/list">See upcoming parties</a>
            <a class="btn ghost" href="/feed">Open live feed</a>
        </div>
        <div class="meta">
            <div>
                <span class="meta-label">Live now</span>
                <p class="meta-value">Campus-wide party intel, updated daily</p>
            </div>
            <div>
                <span class="meta-label">Built for Harvard</span>
                <p class="meta-value">Curated by students, tailored to your night</p>
            </div>
        </div>
    </div>
    <div class="hero-card">
        <div class="card-header">
            <p class="card-title">Upcoming parties</p>
        </div>
        <ul class="card-list">
            {% set max_slots = 3 %}
            {% for idx in range(max_slots) %}
                {% set party = upcoming_parties[idx] if upcoming_parties and upcoming_parties|length > idx else None %}
                <li class="{% if not party %}party-placeholder{% endif %}">
                    {% if party %}
                    <a class="card-list-link" href="/party/{{ party['id'] }}">
                        <div>
                            <h3>{{ party['party_name'] }}</h3>
                            <p>Hosted by {{ party['host_name'] }} • {{ party['date'] }} @ {{ party['time'] }}</p>
                            <p class="muted">{{ party['location'] }}</p>
                        </div>
                    </a>
                    {% else %}
                    <div class="placeholder-lines">
                        <div class="placeholder-line short"></div>
                        <div class="placeholder-line"></div>
                    </div>
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
        <a class="card-link" href="/list">View the lineup</a>
    </div>
</section>

{% if not session.get('user') %}
<div class="auth-callout">
    <div>
        <p class="eyebrow">Heads up</p>
        <h3>Log in to access party submissions and the live feed.</h3>
        <p class="small">You'll need an account to add to the list or post in the feed once those features are enabled.</p>
    </div>
    <div class="callout-actions">
        <a class="btn primary" href="/login">Log in</a>
        <a class="btn ghost" href="/register">Create account</a>
    </div>
</div>
{% endif %}

<section class="section">
    <div class="section-header">
        <p class="eyebrow">Why WTM</p>
        <h2>Never miss the move again</h2>
        <p>WTM keeps Harvard students plugged in with curated picks, last-minute drops, and on-the-ground updates so you know where to go and when.</p>
    </div>
    <div class="feature-grid">
        <div class="feature-card">
            <h3>Curated for Harvard</h3>
            <p>Everything is selected with the campus crowd in mind, from big parties to intimate hangs.</p>
        </div>
        <div class="feature-card">
            <h3>Real-time feed</h3>
            <p>Check the live feed for fresh tips, changes, and photos before you head out.</p>
        </div>
        <div class="feature-card">
            <h3>Plan your night</h3>
            <p>Skim the lineup, pick your vibe, and move with confidence between Cambridge and Allston.</p>
        </div>
    </div>
</section>

<section class="section alt">
    <div class="section-header">
        <p class="eyebrow">How it works</p>
        <h2>Your night in three steps</h2>
    </div>
    <div class="steps">
        <div class="step">
            <span class="step-number">01</span>
            <div>
                <h3>Scan the parties</h3>
                <p>Start with the Parties page to see what’s on deck this week.</p>
            </div>
        </div>
        <div class="step">
            <span class="step-number">02</span>
            <div>
                <h3>Check the feed</h3>
                <p>Peek at the live feed for updates, lines, and last-minute additions.</p>
            </div>
        </div>
        <div class="step">
            <span class="step-number">03</span>
            <div>
                <h3>Make the move</h3>
                <p>Pick your spot and head out—WTM keeps you ahead of the crowd.</p>
            </div>
        </div>
    </div>
    <div class="cta-banner">
        <div>
            <p class="eyebrow">Ready to go?</p>
            <h3>See where the night is headed.</h3>
        </div>
        <div class="cta-actions">
            <a class="btn primary" href="/list">Browse parties</a>
            <a class="btn ghost" href="/about">Learn about WTM</a>
        </div>
    </div>
</section>
{% endblock %}
